# Control 3.1: Agent Inventory and Metadata Management

## Overview

**Control ID:** 3.1
**Control Name:** Agent Inventory and Metadata Management
**Regulatory Reference:** FINRA 4511, SEC 17a-3/4, SOX 404, GLBA 501(b)
**Setup Time:** 1-2 hours

---

## Description

Maintaining a complete inventory of all agents across the organization is fundamental to governance. The Power Platform Admin Center provides a **Maker inventory** (Preview) that offers tenant-wide visibility into all apps, flows, and agents created across environments.

See [View agent inventory](https://learn.microsoft.com/en-us/power-platform/admin/tenant-wide-agent-inventory) for detailed capabilities.

---

## Key Capabilities

| Capability | Description | FSI Relevance |
|------------|-------------|---------------|
| **Cross-environment visibility** | View all items across all environments | Complete governance oversight |
| **Item type filtering** | Filter by Agent, Model-driven app, Code app | Focus on AI agents specifically |
| **Owner tracking** | See who owns each item | Accountability and supervision |
| **Environment classification** | View environment type (Production, Sandbox, Developer) | Risk-based monitoring |
| **Metadata export** | Export inventory for analysis | Audit and compliance reporting |

---

## PPAC Maker Inventory (Preview)

### Accessing the Inventory

1. Open [Power Platform Admin Center](https://admin.powerplatform.microsoft.com)
2. Navigate to **Manage → Inventory**
3. View the complete list of maker creations

### Available Columns

| Column | Description | Governance Use |
|--------|-------------|----------------|
| **Item name** | Name of the agent/app/flow | Identification |
| **Item type** | Agent, Model-driven app, Code app | Filter for agents |
| **Owner** | User who created/owns the item | Accountability |
| **Modified on** | Last modification date | Change tracking |
| **Created on** | Creation date | Lifecycle tracking |
| **Environment** | Environment name (clickable link) | Location tracking |
| **Environment type** | Sandbox, Default, Developer, Production | Risk classification |
| **Environment region** | Geographic location | Data residency |

### Key Features

- **Item count:** Shows total items (e.g., "Showing 297 of 297 items")
- **Refresh:** Manual refresh button for latest data
- **Cross-environment:** Single view across all environments
- **Filtering:** Filter by any column
- **Sorting:** Sort by any column (click column header)

> **Note:** This feature is in Preview. Data refreshes periodically (not real-time).

---

## Governance Levels

### Level 1 - Baseline

| Requirement | Configuration |
|-------------|---------------|
| Inventory access | PPAC Maker inventory enabled |
| Basic metadata | Owner, environment, creation date tracked |
| Review frequency | Monthly inventory review |

**Minimum requirements:**
- Access PPAC Maker inventory regularly
- Document agent count and locations
- Identify orphaned agents (missing owners)

### Level 2-3 - Recommended

| Requirement | Configuration |
|-------------|---------------|
| Comprehensive tracking | All metadata columns reviewed |
| Automated exports | Weekly CSV exports for analysis |
| Dashboard reporting | Summary dashboard for stakeholders |
| Anomaly detection | Alert on unexpected agent creation |

**FSI recommendations:**
- Export inventory weekly for compliance records
- Create summary reports by environment type
- Track agent growth trends
- Integrate with GRC tools if available

### Level 4 - Regulated/High-Risk

| Requirement | Configuration |
|-------------|---------------|
| Real-time monitoring | Daily inventory reviews |
| Drift detection | Alert on unauthorized agents |
| Executive reporting | Monthly inventory reports to governance committee |
| Full metadata | All attributes documented and verified |
| Audit trail | Inventory snapshots retained per retention policy |

**FSI requirements:**
- Daily review of new agent creations
- Immediate investigation of agents in production environments
- Monthly executive summary reports
- Integration with compliance monitoring systems

---

## Additional Inventory Sources

### M365 Admin Center - Integrated Apps

For agents published to M365:

1. Open [Microsoft 365 Admin Center](https://admin.microsoft.com)
2. Navigate to **Settings → Integrated apps**
3. View published agents and apps

See [Manage Copilot agents in Integrated Apps](https://learn.microsoft.com/en-us/microsoft-365/admin/manage/manage-copilot-agents-integrated-apps) for details.

### Copilot Studio - Agent List

For detailed agent configuration:

1. Open [Copilot Studio](https://copilotstudio.microsoft.com)
2. View agents per environment
3. Access agent settings and configuration

---

## Inventory Metadata Requirements

### Minimum Metadata (All Zones)

| Field | Source | Required |
|-------|--------|----------|
| Agent name | PPAC Inventory | Yes |
| Owner | PPAC Inventory | Yes |
| Environment | PPAC Inventory | Yes |
| Created date | PPAC Inventory | Yes |
| Modified date | PPAC Inventory | Yes |

### Extended Metadata (Zone 2-3)

| Field | Source | Required |
|-------|--------|----------|
| Business purpose | Manual documentation | Yes |
| Data sources | Agent configuration | Yes |
| Approval date | Governance records | Yes |
| Zone classification | Governance records | Yes |
| Review schedule | Governance records | Yes |

### Comprehensive Metadata (Zone 3)

| Field | Source | Required |
|-------|--------|----------|
| Risk assessment | Risk documentation | Yes |
| Model validation | Validation records | Yes |
| Regulatory mapping | Compliance records | Yes |
| Incident history | Incident management | Yes |
| Performance baseline | Monitoring records | Yes |

---

## Verification & Testing

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Navigate to PPAC → Manage → Inventory | Maker inventory displayed |
| 2 | Verify item count | All known agents visible |
| 3 | Filter by Item type = "Agent" | Only agents displayed |
| 4 | Check for orphaned agents | All agents have valid owners |
| 5 | Verify environment classification | Correct environment types shown |
| 6 | Export inventory | CSV export successful |

---

## Orphaned Agent Detection

Agents without valid owners create governance gaps:

### Identification
1. Review "Owner" column in PPAC Inventory
2. Look for system accounts or departed employees
3. Check for agents in unexpected environments

### Remediation
1. Assign new owner from business unit
2. Document ownership transfer
3. Review agent configuration and data access
4. Update governance records

See [Control 3.6: Orphaned Agent Detection](./3.6-orphaned-agent-detection-and-remediation.md) for detailed procedures.

---

## Regulatory Context

**Primary Regulations:** FINRA 4511, SEC 17a-3/4, SOX 404, GLBA 501(b)

| Regulation | Inventory Requirement |
|------------|----------------------|
| FINRA 4511 | Maintain books and records of all AI systems |
| SEC 17a-3/4 | Document systems processing customer data |
| SOX 404 | Inventory of systems in financial reporting |
| GLBA 501(b) | Track systems accessing customer information |

### Examination Considerations

Regulators may request:
- Complete list of AI agents in use
- Ownership and accountability documentation
- Environment classification and controls
- Agent creation and approval history

---

## Related Controls

- [Control 3.2: Usage Analytics](./3.2-usage-analytics-and-activity-monitoring.md) - Monitor agent activity
- [Control 3.6: Orphaned Agent Detection](./3.6-orphaned-agent-detection-and-remediation.md) - Remediate unowned agents
- [Control 2.1: Managed Environments](../pillar-2-management/2.1-managed-environments.md) - Environment governance

---

## Support & Questions

For implementation support or questions about this control, contact:
- AI Governance Lead (governance direction)
- Compliance Officer (regulatory requirements)
- Power Platform Admin (technical setup)

---

*Last Updated: December 2025*
*Version: 1.0 Beta*
